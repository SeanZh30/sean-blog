<style>
/* ===== Light Mode - colorful gradient (only when .colorful) ===== */
body.colorful {
    --theme: transparent !important;
    --entry: rgba(255, 255, 255, 0.6);
    --border: rgba(180, 200, 220, 0.5);
    --code-bg: rgba(241, 245, 249, 0.85);
}

body.colorful {
    background: linear-gradient(135deg, #bae6fd 0%, #bbf7d0 35%, #e9d5ff 65%, #fed7aa 100%) !important;
    background-attachment: fixed !important;
    transition: background 0.5s ease;
}

body.colorful .main,
body.colorful .container,
body.colorful .wrapper,
body.colorful main,
body.colorful footer,
body.colorful .list,
body.colorful .terms-tags,
body.colorful .archive-month,
body.colorful .archive-entry {
    background: transparent !important;
}

body.colorful .header {
    background: rgba(255, 255, 255, 0.55) !important;
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
    border-bottom: 1px solid rgba(200, 210, 230, 0.3);
}

body.colorful .post-entry {
    background: rgba(255, 255, 255, 0.55) !important;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(200, 210, 230, 0.35) !important;
    border-radius: var(--radius);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

body.colorful .post-entry:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
}

body.colorful .first-entry {
    background: rgba(255, 255, 255, 0.45) !important;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(200, 210, 230, 0.3) !important;
    border-radius: var(--radius);
    text-align: center;
    align-items: center;
}

body.colorful .first-entry .entry-header,
body.colorful .first-entry .entry-content,
body.colorful .first-entry .entry-footer {
    text-align: center;
    width: 100%;
}

body.colorful .post-single .post-content {
    background: transparent;
}

body.colorful .search-input,
body.colorful #searchInput {
    background: rgba(255, 255, 255, 0.6) !important;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}

body.colorful .pagination a {
    background: var(--primary) !important;
}

body.colorful input:-webkit-autofill {
    box-shadow: 0 0 0 50px rgba(255, 255, 255, 0.8) inset !important;
}

/* ===== Dark Mode + colorful ===== */
[data-theme="dark"] body.colorful {
    --theme: transparent !important;
    --entry: rgba(30, 41, 59, 0.6);
    --border: rgba(51, 65, 85, 0.5);
    --code-bg: rgba(30, 41, 59, 0.85);
    --code-block-bg: rgba(15, 23, 42, 0.9);
}

[data-theme="dark"] body.colorful {
    background: linear-gradient(135deg, #0c1929 0%, #1a1040 35%, #0d2137 65%, #132218 100%) !important;
    background-attachment: fixed !important;
}

[data-theme="dark"] body.colorful .header {
    background: rgba(15, 23, 42, 0.6) !important;
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
    border-bottom: 1px solid rgba(51, 65, 85, 0.3);
}

[data-theme="dark"] body.colorful .post-entry {
    background: rgba(30, 41, 59, 0.5) !important;
    border: 1px solid rgba(51, 65, 85, 0.35) !important;
}

[data-theme="dark"] body.colorful .post-entry:hover {
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] body.colorful .first-entry {
    background: rgba(30, 41, 59, 0.4) !important;
    border: 1px solid rgba(51, 65, 85, 0.3) !important;
}

[data-theme="dark"] body.colorful .list,
[data-theme="dark"] body.colorful .main,
[data-theme="dark"] body.colorful main,
[data-theme="dark"] body.colorful footer {
    background: transparent !important;
}

[data-theme="dark"] body.colorful .search-input,
[data-theme="dark"] body.colorful #searchInput {
    background: rgba(30, 41, 59, 0.6) !important;
}

[data-theme="dark"] body.colorful input:-webkit-autofill {
    box-shadow: 0 0 0 50px rgba(30, 41, 59, 0.8) inset !important;
}

/* Color toggle button style */
#color-toggle {
    background: none;
    border: none;
    cursor: pointer;
    font-size: 18px;
    padding: 4px;
    opacity: 0.7;
    transition: opacity 0.2s ease;
}
#color-toggle:hover {
    opacity: 1;
}
</style>

<script>
// Color toggle: apply .colorful class based on localStorage
(function() {
    var pref = localStorage.getItem('blog-colorful');
    // Default to colorful ON
    if (pref !== 'false') {
        document.body.classList.add('colorful');
    }
})();
</script>
